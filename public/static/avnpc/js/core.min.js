(function(){var e=this,f,c={debug:true,params:{},login:false,username:false,lang:"en",dir:"",f:"",s:"",ie:false},b=function(h,g){if(h===f){return g}if(h instanceof Array){for(var j in h){h[j]=g+h[j]}return h}return g+h},d=[],a=e.eva={module:{},config:{},debug:{showGrid:function(){jQuery(e).load(function(){var h=950;var g=0-h/2;jQuery("body").append('<div id="grid" style="position:absolute;margin-left:'+g+"px;top:0;left:50%;width:"+h+"px;height:"+jQuery("#page").height()+"px;background:#CCC url("+s("/skins/grid950.png")+') repeat top left;z-index:9999;"></div>');jQuery("#grid").animate({opacity:0.5},0).click(function(){jQuery(this).hide()})})}},d:function(g){return b(g,c.dir)},s:function(g){return b(g,c.s)},f:function(g){return b(g,c.f)},sv:function(g){return a.s(g)+"?v="+eva.config.version},p:function(g){if(typeof console==="undefined"){return alert(g)}return console.log(g)},getConfig:function(g){var h=$.extend({},c);return $.extend(h,g)},getRouterName:function(){return c.params.action+c.params.resource},getRouter:function(){var g=c.params.action+c.params.resource;var i=c.params.module;if(i===f||i=="default"){return eva[g]===f?function(){}:eva[g]}else{var h=i.charAt(0).toUpperCase()+i.substr(1)+"_"+g;return a.module[h]===f?(eva[g]===f?function(){}:eva[g]):eva.module[h]}},loader:function(g,h){if($LAB===f||g===f||!g){return false}return $LAB.script(g).wait(h)},trim:function(g){return jQuery.trim(g)},cookie:function(h,p,t){if(typeof p!="undefined"){t=t||{};if(p===null){p="";t.expires=-1}var l="";if(t.expires&&(typeof t.expires=="number"||t.expires.toUTCString)){var m;if(typeof t.expires=="number"){m=new Date();m.setTime(m.getTime()+(t.expires*24*60*60*1000))}else{m=t.expires}l="; expires="+m.toUTCString()}var r=t.path?"; path="+(t.path):"";var n=t.domain?"; domain="+(t.domain):"";var g=t.secure?"; secure":"";document.cookie=[h,"=",encodeURIComponent(p),l,r,n,g].join("")}else{var k=null;if(document.cookie&&document.cookie!==""){var q=document.cookie.split(";");for(var o=0;o<q.length;o++){var j=a.trim(q[o]);if(j.substring(0,h.length+1)==(h+"=")){k=decodeURIComponent(j.substring(h.length+1));break}}}return k}return null},loadcss:function(h){var l=document.getElementsByTagName("head")[0];if(h instanceof Array){var g=h.length;for(var k=0;k<g;k++){var j=document.createElement("link");j.type="text/css";j.rel="stylesheet";j.href=h[k];l.appendChild(j)}return false}var j=document.createElement("link");j.type="text/css";j.rel="stylesheet";j.href=h;l.appendChild(j);return false},parseUri:function(h){function g(p){var n=g.options,j=n.parser[n.strictMode?"strict":"loose"].exec(p),l={},k=14;while(k){k--;l[n.key[k]]=j[k]||""}l[n.q.name]={};l[n.key[12]].replace(n.q.parser,function(m,i,o){if(i){l[n.q.name][i]=o}});return l}g.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};return h?g(h):g(e.location.href)},template:function(h,g){h=h.replace(/{[^{}]+}/g,function(i){return g[i.replace(/[{}]+/g,"")]||""});return h},callback:{},ready:function(g){if(typeof g!=="function"){return false}d.push(g)},init:function(h){c=a.getConfig(h);a.config=c;var g=a.getRouter();var i=function(){if(eva.construct!==f){eva.construct()}if(g){g()}if(eva.runtime!==f){eva.runtime()}for(var j in d){d[j]()}if(eva.destruct!==f){eva.destruct()}};if(typeof jQuery==="undefined"){e.onload=i}else{jQuery(document).ready(function(){return i()})}}}})();
